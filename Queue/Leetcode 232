// Problem: Implement Queue using Stack
// Platform: LeetCode / CodeChef
// Approach: Two Stacks
//
// Time Complexity:
//   push  -> O(n)
//   pop   -> O(1)
//   peek  -> O(1)
//
// Space Complexity: O(n)

#include <bits/stdc++.h>
using namespace std;

// Queue implementation using two stacks
class StackQueue {
private:
    stack<int> st1, st2;

public:
    StackQueue() {}

    // Push element to the back of queue
    void push(int x) {
        // Move all elements to st2
        while (!st1.empty()) {
            st2.push(st1.top());
            st1.pop();
        }

        // Push new element
        st1.push(x);

        // Move everything back to st1
        while (!st2.empty()) {
            st1.push(st2.top());
            st2.pop();
        }
    }

    // Remove the front element
    int pop() {
        if (st1.empty()) {
            return -1;
        }
        int val = st1.top();
        st1.pop();
        return val;
    }

    // Get the front element
    int peek() {
        if (st1.empty()) {
            return -1;
        }
        return st1.top();
    }

    // Check if queue is empty
    bool isEmpty() {
        return st1.empty();
    }
};

int main() {
    StackQueue q;

    // Simulating operations
    vector<string> commands = {
        "StackQueue", "push", "push", "pop", "peek", "isEmpty"
    };
    vector<vector<int>> inputs = {
        {}, {4}, {8}, {}, {}, {}
    };

    for (int i = 0; i < commands.size(); i++) {
        if (commands[i] == "StackQueue") {
            cout << "null ";
        } else if (commands[i] == "push") {
            q.push(inputs[i][0]);
            cout << "null ";
        } else if (commands[i] == "pop") {
            cout << q.pop() << " ";
        } else if (commands[i] == "peek") {
            cout << q.peek() << " ";
        } else if (commands[i] == "isEmpty") {
            cout << (q.isEmpty() ? "true" : "false") << " ";
        }
    }

    return 0;
}
