// Problem: Search Insert Position
// Platform: LeetCode / CodeChef
//
// Approaches:
// 1. Iterative Binary Search
// 2. Recursive Binary Search
// 3. STL lower_bound
//
// Time Complexity: O(log n)
// Space Complexity:
// Iterative / STL: O(1)
// Recursive: O(log n)

#include <bits/stdc++.h>
using namespace std;

class Solution {
public:
    /////////////////////////////////
    // 1️⃣ Iterative Binary Search
    /////////////////////////////////
    int searchInsertIterative(vector<int>& nums, int target) {
        int low = 0, high = nums.size() - 1;
        int ans = nums.size();

        while (low <= high) {
            int mid = low + (high - low) / 2;

            if (nums[mid] >= target) {
                ans = mid;
                high = mid - 1;
            } else {
                low = mid + 1;
            }
        }
        return ans;
    }

    /////////////////////////////////
    // 2️⃣ Recursive Binary Search
    /////////////////////////////////
    int helper(vector<int>& nums, int low, int high, int target) {
        if (low > high) return low;

        int mid = low + (high - low) / 2;

        if (nums[mid] == target)
            return mid;
        else if (nums[mid] > target)
            return helper(nums, low, mid - 1, target);
        else
            return helper(nums, mid + 1, high, target);
    }

    int searchInsertRecursive(vector<int>& nums, int target) {
        return helper(nums, 0, nums.size() - 1, target);
    }

    /////////////////////////////////
    // 3️⃣ STL lower_bound Method
    /////////////////////////////////
    int searchInsertSTL(vector<int>& nums, int target) {
        return lower_bound(nums.begin(), nums.end(), target) - nums.begin();
    }
};

int main() {
    vector<int> nums = {1, 3, 5, 6};
    int target = 2;

    Solution obj;

    cout << "Iterative Binary Search: "
         << obj.searchInsertIterative(nums, target) << endl;

    cout << "Recursive Binary Search: "
         << obj.searchInsertRecursive(nums, target) << endl;

    cout << "STL lower_bound Method: "
         << obj.searchInsertSTL(nums, target) << endl;

    return 0;
}
