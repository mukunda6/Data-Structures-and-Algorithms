// Problem: First Bad Version (LeetCode 278)
// Platform: LeetCode / GitHub
//
// Approach: Binary Search
// Time Complexity: O(log n)
// Space Complexity: O(1)

#include <bits/stdc++.h>
using namespace std;

// -------------------------------
// Simulated API (for GitHub)
// -------------------------------
int badVersion;  // global variable to simulate first bad version

bool isBadVersion(int version) {
    return version >= badVersion;
}

// -------------------------------
// Solution Class
// -------------------------------
class Solution {
public:
    int firstBadVersion(int n) {
        int low = 1, high = n;

        while (low < high) {
            int mid = low + (high - low) / 2;

            if (isBadVersion(mid)) {
                high = mid;      // first bad is mid or before
            } else {
                low = mid + 1;   // first bad is after mid
            }
        }
        return low;
    }
};

// -------------------------------
// Main Function
// -------------------------------
int main() {
    int n = 10;
    badVersion = 4;   // suppose version 4 is the first bad version

    Solution obj;
    cout << "First Bad Version: "
         << obj.firstBadVersion(n) << endl;

    return 0;
}
